{"version":3,"file":"js/142.218f50bf.js","mappings":"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","sources":["webpack://taiwan_travel/./src/methods/apiHeader.js","webpack://taiwan_travel/./src/components/Footer.vue","webpack://taiwan_travel/./src/components/Footer.vue?7cca","webpack://taiwan_travel/./src/components/SrollTop.vue","webpack://taiwan_travel/./src/components/SrollTop.vue?8fbe","webpack://taiwan_travel/./src/views/Restaurants.vue","webpack://taiwan_travel/./src/views/Restaurants.vue?7de5"],"sourcesContent":["export default () => {\r\n  // api header驗證\r\n  const getAuthorizationHeader = () => {\r\n      //  填入自己 ID、KEY 開始\r\n      let AppID = '879d59b6640d4db6bc570c2770888b6d';\r\n      let AppKey = 'EQq1uZnzE1r73vtSFngm-klTYBc';\r\n      //  填入自己 ID、KEY 結束\r\n      let GMTString = new Date().toGMTString();\r\n      let ShaObj = new jsSHA('SHA-1', 'TEXT');\r\n      ShaObj.setHMACKey(AppKey, 'TEXT');\r\n      ShaObj.update('x-date: ' + GMTString);\r\n      let HMAC = ShaObj.getHMAC('B64');\r\n      let Authorization = 'hmac username=\\\"' + AppID + '\\\", algorithm=\\\"hmac-sha1\\\", headers=\\\"x-date\\\", signature=\\\"' + HMAC + '\\\"';\r\n      return { 'Authorization': Authorization, 'X-Date': GMTString }; \r\n    }\r\n  return {\r\n    getAuthorizationHeader\r\n  }\r\n}","<template>\r\n  <footer class=\"footer bg-sky py-4\">\r\n    <p class=\"text-center text-white font-en fs-s\">TaiwanTravel © 2021 Designed by Vum Built by Ellen</p>\r\n  </footer>\r\n</template>","import { render } from \"./Footer.vue?vue&type=template&id=c6375c1a\"\nconst script = {}\n\nimport exportComponent from \"C:\\\\Users\\\\ellen\\\\OneDrive\\\\桌面\\\\taiwan_travel\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"scroll-top position-fixed\">\r\n    <a href=\"#\" class=\"fa-solid fa-arrow-up-long scroll-top-arrow fs-s text-center text-white\" @click.prevent=\"scrollTop\"></a>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  setup() {\r\n    const scrollTop = () => {\r\n        window.scrollTo({\r\n        top: 0,\r\n        left: 0,\r\n        behavior: 'smooth'\r\n      });\r\n    }\r\n    return{\r\n      scrollTop\r\n    }\r\n  }\r\n}\r\n</script>","import { render } from \"./SrollTop.vue?vue&type=template&id=54ec949e\"\nimport script from \"./SrollTop.vue?vue&type=script&lang=js\"\nexport * from \"./SrollTop.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\ellen\\\\OneDrive\\\\桌面\\\\taiwan_travel\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <Header class=\"transparent-black\"></Header>\r\n  <section class=\"home-banner position-relative\">\r\n    <div class=\"vh-100 bg-cover banner-img px-5 pb-3 pb-md-7\" :style=\"{ backgroundImage: 'url(' + require('@/assets/images/banner02.jpg') + ')' }\">\r\n      <img src=\"@/assets/images/taiwan_logo_black.svg\" class=\"tw-logo\" alt=\"taiwan travel logo\">\r\n      <div id=\"scroll\" class=\"position-relative\">\r\n        <span></span>\r\n      </div>\r\n    </div>\r\n    <div class=\"shade-layer\"></div>\r\n  </section>\r\n  <section class=\"container py-6 px-4 px-md-3 res-intro\">\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-8\">\r\n        <div class=\"intro-text mb-6\">\r\n          <p>民以食為天的臺灣，幾乎是三步一小吃，五步一餐廳，各樣美食應有盡有。臺灣飲食文化除了獨特的傳統飲食，近年也快速發展出生機飲食、小吃新風味、複合式料理，創造出健康、創意的臺灣料理新風貌。</p>\r\n          <p>世界文化在臺灣匯流，各國美食也廣受歡迎。美國的漢堡、義大利的披薩、日本的壽司、德國的豬腳、印度的咖哩...讓臺灣成為饕客天堂。而滷肉飯、小籠包、珍珠奶茶等臺式的本土料理也都是風靡全球的經典料理，嚐味一次，必將永生難忘。</p>\r\n        </div>\r\n        <img src=\"@/assets/images/taiwan_logo_black.svg\" class=\"res-tw-logo\" alt=\"taiwan travel logo\">\r\n        <div class=\"res-search-wrap mt-6\">\r\n          <h2 class=\"fs-5 fw-bold text-center mb-3 font-ch\">您想找哪個地方的美食呢？</h2>\r\n          <form class=\"res-form\">\r\n            <select class=\"form-select me-md-3\" aria-label=\"Default select example\" v-model=\"areaSelected\">\r\n              <option value=\"North\">北部地區</option>\r\n              <option value=\"Central\">中部地區</option>\r\n              <option value=\"South\">南部地區</option>\r\n              <option value=\"East\">東部地區</option>\r\n              <option value=\"Islands\">離島地區</option>\r\n            </select>\r\n            <select class=\"form-select me-md-4\" aria-label=\"Default select example\" v-model=\"countySelected\">\r\n              <option v-for=\"item in countiesList\" :key=\"item.en\" :value=\"item.en\">{{item.ch}}</option>\r\n            </select>\r\n            <button type=\"button\" class=\"btn btn-gold font-en fs-s px-3\" @click=\"searchRestaurants\">SEARCH</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <section class=\"container py-5 px-4 px-md-3 res-gallery\">\r\n    <div class=\"row g-4\">\r\n      <div class=\"col-12 col-sm-6 col-md-4\" v-for=\"item in resTruncated\" :key=\"item.RestaurantID\">\r\n        <div class=\"gallery-card custom-radius custom-shadow h-100\">\r\n          <div class=\"px-3 py-4 gallery-text-wrap\" :class=\"{'open':isOpen}\">\r\n            <h3 class=\"text-primary fw-bold mb-2\">{{item.RestaurantName}}</h3>\r\n            <p class=\"mb-3\"><i class=\"fa-solid fa-location-dot text-primary me-2\"></i>{{item.Address}}</p>\r\n            <p class=\"d-inline-block gallery-text\" v-if=\"!isOpen || openId !== item.RestaurantID\">\r\n              {{item.DescriptionTruncated}}\r\n              <a href=\"#\" class=\"d-inline-block ms-2 text-decoration-underline\" :class=\"{'d-none':item.lessText}\" @click.prevent=\"isOpen=true; openId = item.RestaurantID\">了解更多</a>\r\n            </p>\r\n            <p class=\"d-inline-block gallery-text\" v-if=\"isOpen && openId == item.RestaurantID\">\r\n              {{item.Description}}\r\n              <a href=\"#\" class=\"d-inline-block ms-2 text-decoration-underline\" @click.prevent=\"isOpen=false\">收起</a>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <Footer></Footer>\r\n  <ScrollTop></ScrollTop>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\n import Header from '@/components/Header'\r\n import Footer from '@/components/Footer';\r\n import ScrollTop from '@/components/SrollTop';\r\n import { watch, inject, ref, computed } from 'vue';\r\n import { useRouter, useRoute } from 'vue-router' \r\n import locationsData from '@/methods/locationsData'; \r\n import apiHeader from '@/methods/apiHeader';\r\nexport default {\r\n  components: {\r\n    Header,\r\n    Footer,\r\n    ScrollTop\r\n  },\r\n  setup() {\r\n    // 路由\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    // 縣市\r\n    const { areaSelected, countiesList, countySelected} = locationsData();\r\n    watch(countiesList, (val) => {\r\n      let [first] = val;\r\n      countySelected.value = first.en;\r\n    })\r\n    //搜尋\r\n    const searchRestaurants = () => {\r\n      router.push(`/restaurants?county=${countySelected.value}`);\r\n    }\r\n    //api\r\n    const axios = inject('axios');\r\n    const { getAuthorizationHeader } = apiHeader();\r\n    const getRestaurants = () => {\r\n      let api = `https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant/${route.query.county}?$top=12&$format=JSON`;\r\n\r\n      axios.get(\r\n         api,\r\n          {\r\n             headers: getAuthorizationHeader()\r\n          }\r\n       )\r\n       .then(function (response) {\r\n         restaurants.value = response.data;\r\n       })\r\n       .catch(function (error) {\r\n         console.log(error);\r\n       }); \r\n    }\r\n    // 網址改變發送請求\r\n    watch(() => route.query.county, () => {\r\n      if(!route.query.county) {\r\n        return;\r\n      }\r\n      getRestaurants();\r\n    })\r\n    // 狀態處理\r\n    const restaurants = ref([]);\r\n    const resTruncated = computed(() => {\r\n      let ary = JSON.parse(JSON.stringify(restaurants.value));\r\n      ary.forEach((item) => {\r\n        if (item.Description.length <= 60) {\r\n          item.DescriptionTruncated = item.Description;\r\n          item.lessText = true;\r\n        }\r\n        if(item.Description.length > 60) {\r\n          item.DescriptionTruncated = item.Description.substr(0, 59) + '...';\r\n        }\r\n      });\r\n      return ary;\r\n    });\r\n    const isOpen = ref(false);\r\n    const openId = ref('');\r\n\r\n    // created\r\n    areaSelected.value = 'South'\r\n    router.push(`/restaurants?county=${countySelected.value}`);\r\n    getRestaurants();\r\n\r\n    return{\r\n      areaSelected,\r\n      countiesList,\r\n      countySelected,\r\n      // 狀態\r\n      searchRestaurants,\r\n      restaurants,\r\n      resTruncated,\r\n      isOpen,\r\n      openId\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Restaurants.vue?vue&type=template&id=4334baa0\"\nimport script from \"./Restaurants.vue?vue&type=script&lang=js\"\nexport * from \"./Restaurants.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\ellen\\\\OneDrive\\\\桌面\\\\taiwan_travel\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["getAuthorizationHeader","AppID","AppKey","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","HMAC","getHMAC","Authorization","class","_createElementVNode","_hoisted_2","_createElementBlock","_hoisted_3","script","__exports__","render","href","onClick","$setup","setup","scrollTop","window","scrollTo","top","left","behavior","src","_imports_0","alt","id","_hoisted_14","_createVNode","_component_Header","style","backgroundImage","require","_hoisted_5","_hoisted_9","_hoisted_10","_hoisted_12","$event","_Fragment","_renderList","item","key","en","value","ch","_hoisted_20","type","RestaurantID","_toDisplayString","RestaurantName","_hoisted_26","Address","DescriptionTruncated","lessText","_hoisted_28","Description","_component_Footer","_component_ScrollTop","components","Header","Footer","ScrollTop","router","useRouter","route","useRoute","areaSelected","countiesList","countySelected","locationsData","watch","val","first","searchRestaurants","push","axios","inject","apiHeader","getRestaurants","api","query","county","get","headers","then","response","restaurants","data","catch","error","console","log","ref","resTruncated","computed","ary","JSON","parse","stringify","forEach","length","substr","isOpen","openId"],"sourceRoot":""}